<!-- 変更のテストgit -->
<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>A-Frame VR</title>
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.2.0/dist/aframe-extras.min.js"></script>

  <script type="text/javascript">
    AFRAME.registerComponent('change-model', {
      init: function () {
        var modelEl = document.getElementById('target');
        document.addEventListener('click', () => {
          modelEl.removeAttribute('gltf-model')
          modelEl.setAttribute('gltf-model', '#akaei01')
        });
      }
    });
  </script>

</head>

<body><!-- A-Frame の VR は必ず a-scene タグで囲み、その中に様々なオブジェクト（entity）を -->
  <a-scene><!-- a-sphere：球、a-box：直方体、a-cylinder：円柱、a-plane：平面、a-sky：背景 -->

    <a-assets timeout="9000">
      <a-asset-item id="akaei01" src="./assets/akaei-base.glb"></a-asset-item>
      <a-asset-item id="akaei02" src="./assets/akaei-swing-dance.glb"></a-asset-item>
      <a-asset-item id="dounut" src="./assets/dounut.glb"></a-asset-item>
    </a-assets>

    <!-- <a-gltf-model src="#akaei01" sphere data-color="original" scale="2 2 2" rotation="0 -90 0" position="2 1.22 -0.1" animation-mixer visible="true"></a-gltf-model> -->

    <!-- 左右のコントローラー -->
    <a-entity laser-controls="hand: left" raycaster="objects: .collidable; far: 5" vr-controller></a-entity>
    <a-entity laser-controls="hand: right" raycaster="objects: .collidable; far: 5" vr-controller></a-entity>
    
    <a-gltf-model src="#akaei02" sphere data-color="original" scale="2 2 2" rotation="0 -90 0" position="3 0 -0.1"
      animation-mixer change-model></a-gltf-model>

    <a-entity id="target" gltf-model="#akaei02" sphere data-color="original" scale="2 2 2" rotation="0 30 0" position="-0.6 1.25 -1.1"
      animation-mixer></a-entity>

    <a-gltf-model src="#dounut" data-color="original" scale="2 2 2" rotation="0 -90 0" position="0 1 1" animation-mixer
      visible="true"></a-gltf-model>

    <!-- <a-gltf-model src="#dounut" data-color="original" scale="3 3 3" rotation="0 -90 0" position="1 1 2" animation-mixer visible="true"></a-gltf-model> -->

    <a-entity gltf-model="#dounut" scale="3 3 3" rotation="0 0 0" position="1 1 2"
      animation="property: position; easing: easeInOutQuad; dir: alternate; dur: 2000; to: 1 1.3 2; loop: true"></a-entity>



    <!-- <a-entity id="sphere" geometry="primitive: sphere"
    material="color: #EFEFEF; shader: flat"
    position="0 0.15 -5"
    light="type: point; intensity: 5"
    animation="property: position; easing: easeInOutQuad; dir: alternate; dur: 1000; to: 0 -0.10 -5; loop: true"></a-entity> -->

    <a-assets>
      <img id="360degreegb" src="./assets/puydesancy.jpg">
    </a-assets>
    <a-sky src="#360degreegb"></a-sky>

  </a-scene>
</body>


</html>